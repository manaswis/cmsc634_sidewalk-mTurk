# this terminal command will query the sidewalkturk database and output the labels-ground_truth.csv file in your current dir, copy into cmsc634_sidewalk-mTurk/data
# Columns in the CSV: lng, lat, label type, label id, mturk assignment ID, turker ID, route ID, HIT ID, panorama ID, canvas_x, canvas_y, heading, pitch, completed

psql -d sidewalkturk -t -A -F"," -c "SELECT sidewalk.label_point.lng, sidewalk.label_point.lat, sidewalk.label_type.label_type, sidewalk.label.label_id, sidewalk.amt_assignment.assignment_id, sidewalk.amt_assignment.turker_id, sidewalk.amt_assignment.route_id, sidewalk.amt_assignment.hit_id, sidewalk.label.gsv_panorama_id, sidewalk.label_point.canvas_x, sidewalk.label_point.canvas_y, sidewalk.label_point.heading, sidewalk.label_point.pitch, sidewalk.amt_assignment.completed FROM sidewalk.label INNER JOIN sidewalk.audit_task  ON sidewalk.label.audit_task_id = sidewalk.audit_task.audit_task_id INNER JOIN sidewalk.label_point  ON sidewalk.label.label_id = sidewalk.label_point.label_id INNER JOIN sidewalk.label_type  ON sidewalk.label.label_type_id = sidewalk.label_type.label_type_id INNER JOIN sidewalk.amt_assignment ON sidewalk.audit_task.amt_assignment_id = sidewalk.amt_assignment.amt_assignment_id WHERE sidewalk.label.deleted = false" > mturk_labels.csv
